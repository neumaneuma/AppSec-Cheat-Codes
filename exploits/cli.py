import sys

# Configure which endpoint and which url the exploit uses. The default is to use the
# vulnerable endpoint for the local server. However you can set this to whatever you want.
use_vulnerable_endpoint = True
use_webapp_url = False


def get_cli_arguments():
    global use_vulnerable_endpoint
    global use_webapp_url

    opts = [opt for opt in sys.argv[1:] if opt.startswith("-")]
    message = "Overriding default: "

    if "-p" in opts:
        use_vulnerable_endpoint = False
        print(message + "using patched endpoint")
    elif "-v" in opts:
        use_vulnerable_endpoint = True
        print(message + "using vulnerable endpoint")

    if "-r" in opts:
        use_webapp_url = True
        print(message + "using remote server")
    elif "-l" in opts:
        use_webapp_url = False
        print(message + "using local server")

    return use_vulnerable_endpoint, use_webapp_url
